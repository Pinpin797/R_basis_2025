---
title: 'R#1: Introduction to R and RStudio'
author: "Laurent Modolo [laurent.modolo@ens-lyon.fr](mailto:laurent.modolo@ens-lyon.fr)"
date: "10 Oct 2019"
output:
  beamer_presentation:
    theme: metropolis
    slide_level: 3
    fig_caption: no
    df_print: tibble
    highlight: tango
    latex_engine: xelatex
  slidy_presentation:
    highlight: tango
---
## R#1: Introduction to R and RStudio
The goal of this practical is to familiarize yourself with R and the RStudio
environment.

The objectives of this session will be to:

- Understand the purpose of each pane in RStudio
- Do basic computation with R
- Define variables and assign data to variables
- Manage a workspace in R
- Call functions
- Manage packages

**http://perso.ens-lyon.fr/laurent.modolo/R/session_1_a**

Press **[alt] + [shift] + k**

## Functions are also variables

We can also define our own function with
```R
<FUNCTION_NAME> <- function(a, b){
  <RESULT_1> <- <OPERATION_1>(a, b)
  <RESULT_2> <- <OPERATION_2>(<RESULT_1>, b)
  return(<RESULT_2>)
}
```

\pause

write a function to test the base of the logarithm function

\pause

```R
base_test <- function(x, base){
  log_result <- logarithm(x, base=base)
  exp_result <- base^log_result
  test_result <- x == exp_result
  return(test_result)
}
```

**http://perso.ens-lyon.fr/laurent.modolo/R/1_b**

## Functions are also variables

```R
base_test <- function(x, base){
  print(x)
  log_result <- logarithm(x, base=base)
  print(log_result)
  exp_result <- base^log_result
  print(exp_result)
  print(x)
  test_result <- x == exp_result
  return(test_result)
}
```

**http://perso.ens-lyon.fr/laurent.modolo/R/1_c**

## Functions are also variables

```R
base_test <- function(x, base){
  print(x)
  log_result <- logarithm(x, base=base)
  print(log_result)
  exp_result <- base^log_result
  print(exp_result)
  print(x)
  test_result <- isTRUE(all.equal(x, exp_result))
  return(test_result)
}
```

**http://perso.ens-lyon.fr/laurent.modolo/R/1_d**

## Functions are also variables

```R
base_test <- function(x, base){
  return(isTRUE(all.equal(x, base^logarithm(x, base=base))))
}
```

**http://perso.ens-lyon.fr/laurent.modolo/R/1_e**

## The environment

\includegraphics[width=\textwidth]{img/RStudio_environment.png}

## A code editor

\includegraphics[width=\textwidth]{img/RStudio_editor.png}

## A code editor

RStudio offers you great flexibility in running code from within the editor window. There are buttons, menu choices, and keyboard shortcuts. To run the current line, you can

- click on the Run button above the editor panel, or
- select “Run Lines” from the “Code” menu, or
- hit Ctrl+Return in Windows or Linux or Cmd+Return on OS X. To run a block of code, select it and then Run. 

If you have modified a line of code within a block of code you have just run, there is no need to reselect the section and Run, you can use the next button along, Rerun the previous region. This will run the previous code block including the modifications you have made.

## A code editor

Copy your `logarithm` and `base_test` into a `tp_1.R` file

\pause

We can now clean your environment

```R
rm(x)
```

\pause

```R
?rm
```

\pause

```R
ls()
```

\pause

```R
rm(list = ls())
```

## Installing packages

```R
install.packages("tidyverse")
```

```R
install.packages("ggplot2")
```

## Installing packages

\includegraphics[width=\textwidth]{img/RStudio_outputs.png}

## Loading packages

```R
sessionInfo()
```

\pause

```R
library(tidyverse)
```

\pause

```R
sessionInfo()
```

\pause

```R
unloadNamespace("tidyverse")
```

\pause

```R
sessionInfo()
```

# Complex variable type

## Vector (aka list)

```R
c(1, 2, 3, 4, 5)
```

\pause

```R
1:5
```

\pause

```R
2^(1:5)
```

\pause

```R
x <- 1:5
2^x
```

\pause

```R
log(x)
logarithm(x)
base_test(x, base = 10)
```

## Vector (aka list)

```R
typeof(x)
```

\pause

```R
typeof(x + 0.5)
```

\pause

```R
is.vector(x)
```

\pause

```R
length(x)
```

\pause

```R
x[5]
```

\pause

```R
y <- c(a = 1, b = 2, c = 3, d = 4, e = 5)
typeof(y)
is.vector(y)
names(y)
y[1]
y["a"]
names(y) <- c("b")
```

\pause

```R
x == y
all.equal(x, y)
```

## Vector challenge

- use the `seq()` function to create a vector of even numbers
- You can concatenate vector with `c(<VECTOR_1>, <VECTOR_2>)`, concatenate a vector of integer with a vector of the first 5 letter of the alphabet.
- Check the default vectors `letters` and `LETTERS`, rewrite your previous command using them.
- Create a vector giving you the correspondence between small case letters and upper case letters.

### Vector challenge

- use the `seq()` function to create a vector of even numbers
```R
seq(from=2, to=10, by=2)
```
- You can concatenate vector with `c(<VECTOR_1>, <VECTOR_2>)`, concatenate a vector of integer with a vector of the first 5 letter of the alphabet. What is the type of this vector.
- Check the default vectors `letters` and `LETTERS`, rewrite your previous command using them.
- Create a vector giving you the correspondence between small case letters and upper case letters.

### Vector challenge

- use the `seq()` function to create a vector of even numbers
```R
seq(from=2, to=10, by=2)
```
- You can concatenate vector with `c(<VECTOR_1>, <VECTOR_2>)`, concatenate a vector of integer with a vector of the first 5 letter of the alphabet. What is the type of this vector.
- Check the default vectors `letters` and `LETTERS`, rewrite your previous command using them.
- Create a vector giving you the correspondence between small case letters and upper case letters.

### Vector challenge

- use the `seq()` function to create a vector of even numbers
- You can concatenate vector with `c(<VECTOR_1>, <VECTOR_2>)`, concatenate a vector of integer with a vector of the first 5 letter of the alphabet. What is the type of this vector.
```R
c(1:5, "a", "b", "c")
typeof(c(1:5, "a", "b", "c"))
```
- Check the default vectors `letters` and `LETTERS`, rewrite your previous command using them.
- Create a vector giving you the correspondence between small case letters and upper case letters.

### Vector challenge

- use the `seq()` function to create a vector of even numbers
- You can concatenate vector with `c(<VECTOR_1>, <VECTOR_2>)`, concatenate a vector of integer with a vector of the first 5 letter of the alphabet. What is the type of this vector.
- Check the default vectors `letters` and `LETTERS`, rewrite your previous command using them.
```R
c(1:5, letters[1:3])
```
- Create a vector giving you the correspondence between small case letters and upper case letters.

### Vector challenge

- use the `seq()` function to create a vector of even numbers
- You can concatenate vector with `c(<VECTOR_1>, <VECTOR_2>)`, concatenate a vector of integer with a vector of the first 5 letter of the alphabet. What is the type of this vector.
- Check the default vectors `letters` and `LETTERS`, rewrite your previous command using them.
- Create a vector giving you the correspondence between small case letters and upper case letters.
```R
rosette <- LETTERS
names(rosette) <- letters
rosette["b"]
rosette[13]
```

## Matrix

In R matrix are two dimensional vectors

```R
matrix_example <- matrix(1:(6*3), ncol=6, nrow=3)
matrix_example
```

\pause

```R
class(matrix_example)
nrow(matrix_example)
ncol(matrix_example)
```

\pause

```R
matrix_example[2, 3]
```

## DataFrame

In R `data.frame` are table type with mixed type

```R
data_frame_example <- data.frame(numbers=1:26, letters=letters, LETTERS=LETTERS)
data_frame_example
```

\pause

```R
class(data_frame_example)
nrow(data_frame_example)
ncol(data_frame_example)
names(data_frame_example)
```

\pause

```R
data_frame_example[2, 3]
data_frame_example["numbers"]
```